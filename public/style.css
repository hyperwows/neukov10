
:root{
  --size:560px;
  --head-size:78%;
}

*{box-sizing:border-box;margin:0;padding:0}
html,body{height:100%}
body{
  display:flex;
  align-items:center;
  justify-content:center;
  background:#000;
  color:#fff;
  font-family:Inter, system-ui, Arial, sans-serif;
  padding:20px;
}

.center{width:var(--size);max-width:95vw;text-align:center}

.header{display:flex;align-items:center;justify-content:space-between;margin-bottom:10px}
.header h1{font-size:1.4rem}
.controls-top{display:flex;gap:8px;align-items:center}
.btn{padding:8px 12px;border-radius:8px;border:0;background:#333;color:#fff;cursor:pointer}
.btn.primary{background:#e24e4e;font-weight:700}
.menu{display:flex;align-items:center;justify-content:center;margin:20px 0}
.menu-card{background:#111;padding:16px;border-radius:12px;width:100%;box-shadow:0 8px 30px rgba(0,0,0,0.6)}
.menu-card h2{margin-bottom:8px}
.menu-row{margin:8px 0;display:flex;align-items:center;gap:8px}
.menu-actions{margin-top:10px}
.highscore{margin-top:12px;font-weight:700}

/* HUD */
.hud{display:flex;justify-content:space-between;margin-bottom:8px;padding:0 4px;font-weight:600}
.hud div{font-size:0.95rem}

/* game board */
.game-board{width:var(--size);height:var(--size);margin:0 auto 12px;display:flex;align-items:center;justify-content:center;position:relative;user-select:none;touch-action:manipulation}
.grid{display:grid;grid-template-columns:repeat(3,1fr);grid-template-rows:repeat(3,1fr);gap:12px;width:100%;height:100%;padding:12px}

/* hole/well */
.hole{position:relative;background:linear-gradient(180deg,#0b0b0b 0%, #050505 100%);border-radius:12px;overflow:hidden;display:flex;align-items:flex-end;justify-content:center;box-shadow: inset 0 -6px 14px rgba(255,255,255,0.02);cursor:pointer}
.well{position:relative;width:100%;height:85%;display:flex;align-items:flex-end;justify-content:center;overflow:hidden;padding-bottom:6px}

/* water effect */
.water{
  position:absolute;
  bottom:0;
  left:0;
  right:0;
  height:40%;
  background:linear-gradient(180deg, rgba(20,20,20,0.6) 0%, rgba(0,0,0,0.0) 100%);
  z-index:1;
  pointer-events:none;
}
.well::before{
  content:"";
  position:absolute;
  bottom:5px;
  left:-10%;
  width:120%;
  height:24px;
  background:radial-gradient(ellipse at center, rgba(255,255,255,0.02) 0%, rgba(255,255,255,0) 60%);
  z-index:2;
  pointer-events:none;
  animation: wave 3s linear infinite;
  opacity:0.6;
}
@keyframes wave{
  0%{transform:translateX(-10%) translateY(0)}
  50%{transform:translateX(10%) translateY(2px)}
  100%{transform:translateX(-10%) translateY(0)}
}

/* head */
.head{width:var(--head-size);max-width:90%;transform:translateY(120%);transition:transform 220ms cubic-bezier(.2,.9,.3,1);pointer-events:auto;z-index:3;user-select:none}
.hole.up .head{transform:translateY(12%)}
.hole.pop .head{transform:translateY(0%);filter:brightness(1.08) saturate(1.1)}

/* stars effect */
.effect-stars{
  position:absolute;pointer-events:none;z-index:5;
  width:60px;height:60px;border-radius:50%;left:50%;top:20%;
  transform:translate(-50%,-50%);opacity:0;animation:starPop 420ms ease-out forwards;
}
@keyframes starPop{
  0%{transform:translate(-50%,-20%) scale(0.2);opacity:1}
  70%{transform:translate(-50%,-40%) scale(1.05);opacity:1}
  100%{transform:translate(-50%,-80%) scale(0.6);opacity:0}
}

/* red (III) text on hit - H placement (above head) */
.hitText{
  position:absolute;z-index:6;top:-6px;left:50%;transform:translateX(-50%) translateY(0);font-weight:900;color:#ff2b2b;font-size:18px;opacity:0;pointer-events:none;
  transition:all 360ms ease-out;
  text-shadow:0 2px 8px rgba(0,0,0,0.8);
}
.hitText.show{opacity:1;transform:translateX(-50%) translateY(-28px) scale(1.12)}

/* overlay */
.overlay{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,0.7);z-index:10}
.overlay.hidden{display:none}
.overlay-content{background:#111;color:#fff;border-radius:12px;padding:20px;width:320px;text-align:center;box-shadow:0 10px 30px rgba(0,0,0,0.6)}
.overlay-content h2{margin-bottom:8px}
.overlay-actions{display:flex;gap:8px;justify-content:center;margin-top:10px}

/* responsive */
@media (max-width:600px){
  :root{--size:90vw}
  .hitText{font-size:15px}
}
